{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isPdfRole = isPdfRole;\nexports.isStructTreeNode = isStructTreeNode;\nexports.isStructTreeNodeWithOnlyContentChild = isStructTreeNodeWithOnlyContentChild;\nexports.getRoleAttributes = getRoleAttributes;\nexports.getBaseAttributes = getBaseAttributes;\nexports.getAttributes = getAttributes;\nconst constants_js_1 = require(\"./constants.js\");\nfunction isPdfRole(role) {\n  return role in constants_js_1.PDF_ROLE_TO_HTML_ROLE;\n}\nfunction isStructTreeNode(node) {\n  return 'children' in node;\n}\nfunction isStructTreeNodeWithOnlyContentChild(node) {\n  if (!isStructTreeNode(node)) {\n    return false;\n  }\n  return node.children.length === 1 && 0 in node.children && 'id' in node.children[0];\n}\nfunction getRoleAttributes(node) {\n  const attributes = {};\n  if (isStructTreeNode(node)) {\n    const {\n      role\n    } = node;\n    const matches = role.match(constants_js_1.HEADING_PATTERN);\n    if (matches) {\n      attributes.role = 'heading';\n      attributes['aria-level'] = Number(matches[1]);\n    } else if (isPdfRole(role)) {\n      const htmlRole = constants_js_1.PDF_ROLE_TO_HTML_ROLE[role];\n      if (htmlRole) {\n        attributes.role = htmlRole;\n      }\n    }\n  }\n  return attributes;\n}\nfunction getBaseAttributes(node) {\n  const attributes = {};\n  if (isStructTreeNode(node)) {\n    if (node.alt !== undefined) {\n      attributes['aria-label'] = node.alt;\n    }\n    if (node.lang !== undefined) {\n      attributes.lang = node.lang;\n    }\n    if (isStructTreeNodeWithOnlyContentChild(node)) {\n      const [child] = node.children;\n      if (child) {\n        const childAttributes = getBaseAttributes(child);\n        return Object.assign(Object.assign({}, attributes), childAttributes);\n      }\n    }\n  } else {\n    if ('id' in node) {\n      attributes['aria-owns'] = node.id;\n    }\n  }\n  return attributes;\n}\nfunction getAttributes(node) {\n  if (!node) {\n    return null;\n  }\n  return Object.assign(Object.assign({}, getRoleAttributes(node)), getBaseAttributes(node));\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","isPdfRole","isStructTreeNode","isStructTreeNodeWithOnlyContentChild","getRoleAttributes","getBaseAttributes","getAttributes","constants_js_1","require","role","PDF_ROLE_TO_HTML_ROLE","node","children","length","attributes","matches","match","HEADING_PATTERN","Number","htmlRole","alt","undefined","lang","child","childAttributes","assign","id"],"sources":["/Users/crystalcho/node_modules/react-pdf/dist/cjs/shared/structTreeUtils.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isPdfRole = isPdfRole;\nexports.isStructTreeNode = isStructTreeNode;\nexports.isStructTreeNodeWithOnlyContentChild = isStructTreeNodeWithOnlyContentChild;\nexports.getRoleAttributes = getRoleAttributes;\nexports.getBaseAttributes = getBaseAttributes;\nexports.getAttributes = getAttributes;\nconst constants_js_1 = require(\"./constants.js\");\nfunction isPdfRole(role) {\n    return role in constants_js_1.PDF_ROLE_TO_HTML_ROLE;\n}\nfunction isStructTreeNode(node) {\n    return 'children' in node;\n}\nfunction isStructTreeNodeWithOnlyContentChild(node) {\n    if (!isStructTreeNode(node)) {\n        return false;\n    }\n    return node.children.length === 1 && 0 in node.children && 'id' in node.children[0];\n}\nfunction getRoleAttributes(node) {\n    const attributes = {};\n    if (isStructTreeNode(node)) {\n        const { role } = node;\n        const matches = role.match(constants_js_1.HEADING_PATTERN);\n        if (matches) {\n            attributes.role = 'heading';\n            attributes['aria-level'] = Number(matches[1]);\n        }\n        else if (isPdfRole(role)) {\n            const htmlRole = constants_js_1.PDF_ROLE_TO_HTML_ROLE[role];\n            if (htmlRole) {\n                attributes.role = htmlRole;\n            }\n        }\n    }\n    return attributes;\n}\nfunction getBaseAttributes(node) {\n    const attributes = {};\n    if (isStructTreeNode(node)) {\n        if (node.alt !== undefined) {\n            attributes['aria-label'] = node.alt;\n        }\n        if (node.lang !== undefined) {\n            attributes.lang = node.lang;\n        }\n        if (isStructTreeNodeWithOnlyContentChild(node)) {\n            const [child] = node.children;\n            if (child) {\n                const childAttributes = getBaseAttributes(child);\n                return Object.assign(Object.assign({}, attributes), childAttributes);\n            }\n        }\n    }\n    else {\n        if ('id' in node) {\n            attributes['aria-owns'] = node.id;\n        }\n    }\n    return attributes;\n}\nfunction getAttributes(node) {\n    if (!node) {\n        return null;\n    }\n    return Object.assign(Object.assign({}, getRoleAttributes(node)), getBaseAttributes(node));\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}
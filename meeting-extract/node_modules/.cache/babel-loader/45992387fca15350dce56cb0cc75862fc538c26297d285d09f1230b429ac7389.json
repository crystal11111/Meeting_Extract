{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = StructTree;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst make_cancellable_promise_1 = __importDefault(require(\"make-cancellable-promise\"));\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst warning_1 = __importDefault(require(\"warning\"));\nconst StructTreeItem_js_1 = __importDefault(require(\"./StructTreeItem.js\"));\nconst usePageContext_js_1 = __importDefault(require(\"./shared/hooks/usePageContext.js\"));\nconst useResolver_js_1 = __importDefault(require(\"./shared/hooks/useResolver.js\"));\nconst utils_js_1 = require(\"./shared/utils.js\");\nfunction StructTree() {\n  const pageContext = (0, usePageContext_js_1.default)();\n  (0, tiny_invariant_1.default)(pageContext, 'Unable to find Page context.');\n  const {\n    onGetStructTreeError: onGetStructTreeErrorProps,\n    onGetStructTreeSuccess: onGetStructTreeSuccessProps\n  } = pageContext;\n  const [structTreeState, structTreeDispatch] = (0, useResolver_js_1.default)();\n  const {\n    value: structTree,\n    error: structTreeError\n  } = structTreeState;\n  const {\n    customTextRenderer,\n    page\n  } = pageContext;\n  function onLoadSuccess() {\n    if (!structTree) {\n      // Impossible, but TypeScript doesn't know that\n      return;\n    }\n    if (onGetStructTreeSuccessProps) {\n      onGetStructTreeSuccessProps(structTree);\n    }\n  }\n  function onLoadError() {\n    if (!structTreeError) {\n      // Impossible, but TypeScript doesn't know that\n      return;\n    }\n    (0, warning_1.default)(false, structTreeError.toString());\n    if (onGetStructTreeErrorProps) {\n      onGetStructTreeErrorProps(structTreeError);\n    }\n  }\n  // biome-ignore lint/correctness/useExhaustiveDependencies: useEffect intentionally triggered on page change\n  (0, react_1.useEffect)(function resetStructTree() {\n    structTreeDispatch({\n      type: 'RESET'\n    });\n  }, [structTreeDispatch, page]);\n  (0, react_1.useEffect)(function loadStructTree() {\n    if (customTextRenderer) {\n      // TODO: Document why this is necessary\n      return;\n    }\n    if (!page) {\n      return;\n    }\n    const cancellable = (0, make_cancellable_promise_1.default)(page.getStructTree());\n    const runningTask = cancellable;\n    cancellable.promise.then(nextStructTree => {\n      structTreeDispatch({\n        type: 'RESOLVE',\n        value: nextStructTree\n      });\n    }).catch(error => {\n      structTreeDispatch({\n        type: 'REJECT',\n        error\n      });\n    });\n    return () => (0, utils_js_1.cancelRunningTask)(runningTask);\n  }, [customTextRenderer, page, structTreeDispatch]);\n  // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n  (0, react_1.useEffect)(() => {\n    if (structTree === undefined) {\n      return;\n    }\n    if (structTree === false) {\n      onLoadError();\n      return;\n    }\n    onLoadSuccess();\n  }, [structTree]);\n  if (!structTree) {\n    return null;\n  }\n  return (0, jsx_runtime_1.jsx)(StructTreeItem_js_1.default, {\n    className: \"react-pdf__Page__structTree structTree\",\n    node: structTree\n  });\n}","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","default","StructTree","jsx_runtime_1","require","react_1","make_cancellable_promise_1","tiny_invariant_1","warning_1","StructTreeItem_js_1","usePageContext_js_1","useResolver_js_1","utils_js_1","pageContext","onGetStructTreeError","onGetStructTreeErrorProps","onGetStructTreeSuccess","onGetStructTreeSuccessProps","structTreeState","structTreeDispatch","structTree","error","structTreeError","customTextRenderer","page","onLoadSuccess","onLoadError","toString","useEffect","resetStructTree","type","loadStructTree","cancellable","getStructTree","runningTask","promise","then","nextStructTree","catch","cancelRunningTask","undefined","jsx","className","node"],"sources":["/Users/crystalcho/node_modules/react-pdf/dist/cjs/StructTree.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = StructTree;\nconst jsx_runtime_1 = require(\"react/jsx-runtime\");\nconst react_1 = require(\"react\");\nconst make_cancellable_promise_1 = __importDefault(require(\"make-cancellable-promise\"));\nconst tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\nconst warning_1 = __importDefault(require(\"warning\"));\nconst StructTreeItem_js_1 = __importDefault(require(\"./StructTreeItem.js\"));\nconst usePageContext_js_1 = __importDefault(require(\"./shared/hooks/usePageContext.js\"));\nconst useResolver_js_1 = __importDefault(require(\"./shared/hooks/useResolver.js\"));\nconst utils_js_1 = require(\"./shared/utils.js\");\nfunction StructTree() {\n    const pageContext = (0, usePageContext_js_1.default)();\n    (0, tiny_invariant_1.default)(pageContext, 'Unable to find Page context.');\n    const { onGetStructTreeError: onGetStructTreeErrorProps, onGetStructTreeSuccess: onGetStructTreeSuccessProps, } = pageContext;\n    const [structTreeState, structTreeDispatch] = (0, useResolver_js_1.default)();\n    const { value: structTree, error: structTreeError } = structTreeState;\n    const { customTextRenderer, page } = pageContext;\n    function onLoadSuccess() {\n        if (!structTree) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        if (onGetStructTreeSuccessProps) {\n            onGetStructTreeSuccessProps(structTree);\n        }\n    }\n    function onLoadError() {\n        if (!structTreeError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        (0, warning_1.default)(false, structTreeError.toString());\n        if (onGetStructTreeErrorProps) {\n            onGetStructTreeErrorProps(structTreeError);\n        }\n    }\n    // biome-ignore lint/correctness/useExhaustiveDependencies: useEffect intentionally triggered on page change\n    (0, react_1.useEffect)(function resetStructTree() {\n        structTreeDispatch({ type: 'RESET' });\n    }, [structTreeDispatch, page]);\n    (0, react_1.useEffect)(function loadStructTree() {\n        if (customTextRenderer) {\n            // TODO: Document why this is necessary\n            return;\n        }\n        if (!page) {\n            return;\n        }\n        const cancellable = (0, make_cancellable_promise_1.default)(page.getStructTree());\n        const runningTask = cancellable;\n        cancellable.promise\n            .then((nextStructTree) => {\n            structTreeDispatch({ type: 'RESOLVE', value: nextStructTree });\n        })\n            .catch((error) => {\n            structTreeDispatch({ type: 'REJECT', error });\n        });\n        return () => (0, utils_js_1.cancelRunningTask)(runningTask);\n    }, [customTextRenderer, page, structTreeDispatch]);\n    // biome-ignore lint/correctness/useExhaustiveDependencies: Ommitted callbacks so they are not called every time they change\n    (0, react_1.useEffect)(() => {\n        if (structTree === undefined) {\n            return;\n        }\n        if (structTree === false) {\n            onLoadError();\n            return;\n        }\n        onLoadSuccess();\n    }, [structTree]);\n    if (!structTree) {\n        return null;\n    }\n    return (0, jsx_runtime_1.jsx)(StructTreeItem_js_1.default, { className: \"react-pdf__Page__structTree structTree\", node: structTree });\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}